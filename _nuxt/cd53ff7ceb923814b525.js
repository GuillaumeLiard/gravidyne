(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{157:function(e,t,n){var i=n(166);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(27).default)("73688540",i,!0,{})},165:function(e,t,n){"use strict";var i=n(157);n.n(i).a},166:function(e,t,n){(e.exports=n(26)(!1)).push([e.i,"canvas{border:1px solid #000}",""])},167:function(e,t,n){"use strict";n.r(t);n(69);var i=n(158),r=n.n(i),o=n(156),s=n(5),u=n.n(s),d=(n(159),{render:function(){return null},data:function(){return{body:null,savedGeometryPercent:null}},props:{world:{type:Object,default:function(){return null}},sceneBounds:{type:Object,default:function(){return{sceneWidth:0,sceneHeight:0}}},initialGeometryPercent:{type:Object,default:function(){}},physic:{type:Object,default:function(){}},internalId:{type:Number,default:-1}},computed:{geometryPercent:function(){var e=this.savedGeometryPercent,t=this.initialGeometryPercent;return e||t},geometry:function(){var e=this.geometryPercent,t=this.sceneBounds;return this.percentToAbsolute(e,t)}},methods:{createBody:function(){return null},percentToAbsolute:function(){return null},absoluteToPercent:function(){return null}},watch:{sceneBounds:function(e,t){var n=this.geometry,i=(this.body?this.body:{}).position,r=u()({},n,i),o=u()({},e,t);this.savedGeometryPercent=this.absoluteToPercent(r,o)},geometry:function(){this.body=this.createBody()},body:function(e,t){t&&o.World.remove(this.world,t),o.World.add(this.world,e)}}}),c=n(10),a=Object(c.a)(d,void 0,void 0,!1,null,null,null);a.options.__file="MatterBody.vue";var l=a.exports,h={extends:l,methods:{createBody:function(){var e=this.geometry,t=this.physic,n=o.Bodies.rectangle(e.x,e.y,e.width,e.height,u()({},t));return n.internalId=this.internalId,n},percentToAbsolute:function(e,t){var n=e.x,i=e.y,r=e.width,o=e.height,s=t.sceneWidth,u=t.sceneHeight;return{x:n*s,y:i*u,width:r*s,height:o*u}},absoluteToPercent:function(e,t){var n=e.x,i=e.y,r=t.sceneWidth,o=t.sceneHeight,s=this.initialGeometryPercent;return{x:n/r,y:i/o,width:s.width,height:s.height}}}},y=Object(c.a)(h,void 0,void 0,!1,null,null,null);y.options.__file="MatterBodyRectangle.vue";var f=y.exports,p={extends:l,methods:{createBody:function(){var e=this.geometry,t=this.physic,n=o.Bodies.circle(e.x,e.y,e.radius,u()({},t));return n.internalId=this.internalId,n},percentToAbsolute:function(e,t){var n=e.x,i=e.y,r=e.radius,o=t.sceneWidth,s=t.sceneHeight;return{x:n*o,y:i*s,radius:r*s}},absoluteToPercent:function(e,t){var n=e.x,i=e.y,r=e.radius,o=t.sceneWidth,s=t.sceneHeight;return{x:n/o,y:i/s,radius:r/s}}}},g=Object(c.a)(p,void 0,void 0,!1,null,null,null);g.options.__file="MatterBodyCircle.vue";var v=g.exports,m=(n(25),{render:function(){return null},props:{world:{type:Object,default:function(){return null}},width:{type:Number,default:function(){return 0}},height:{type:Number,default:function(){return 0}},physic:{type:Object,default:function(){}},idBodyA:{type:Number,default:-1},geometryPercentPointA:{type:Object,default:function(){}},idBodyB:{type:Number,default:-1},geometryPercentPointB:{type:Object,default:function(){}}},computed:{constraint:function(){return this.createConstraint(this.physic)},bodyA:function(){var e=this,t=this.world.bodies.filter(function(t){return t.internalId===e.idBodyA});return r()(t,1)[0]},bodyB:function(){var e=this,t=this.world.bodies.filter(function(t){return t.internalId===e.idBodyB});return r()(t,1)[0]},pointA:function(){return{x:this.geometryPercentPointA.x*this.width,y:this.geometryPercentPointA.y*this.height}},pointB:function(){return{x:this.geometryPercentPointB.x*this.width,y:this.geometryPercentPointB.y*this.height}}},mounted:function(){this.addConstraint()},beforeDestroy:function(){this.removeConstraint()},methods:{addConstraint:function(){var e=this;setTimeout(function(){e.constraint&&o.World.add(e.world,e.constraint)},0)},removeConstraint:function(){this.constraint&&o.World.remove(this.world,this.constraint)},createConstraint:function(e){for(var t={},n=[{name:"bodyA",instance:this.bodyA},{name:"bodyB",instance:this.bodyB}],i=0;i<n.length;i++){var r=n[i];r.instance&&(t[r.name]=r.instance)}return o.Constraint.create(u()({pointA:this.pointA,pointB:this.pointB},t,e))}}}),b=Object(c.a)(m,void 0,void 0,!1,null,null,null);b.options.__file="MatterConstraint.vue";var w=b.exports,B={components:{MatterBodyRectangle:f,MatterBodyCircle:v,MatterConstraint:w},data:function(){return{width:800,height:600,engine:null,world:null,resizeToken:0,abc:1}},computed:{bodies:function(){return this.$store.getters["bodies/getBodies"]},constraints:function(){return this.$store.getters["constraints/getConstraints"]}},mounted:function(){var e=this;this.resize(),this.build(),window.addEventListener("resize",function(){return e.reset()})},methods:{reset:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;t<e;t++)this.destroy(),this.resize(),this.build()},build:function(){this.buildEngine(),this.buildRunner(),this.buildRenderer(),this.addMouseControl()},destroy:function(){this.destroyRenderer(),this.destroyRunner(),this.destroyEngine()},buildEngine:function(){this.engine=o.Engine.create()},buildRunner:function(){this.runner=o.Runner.create(),o.Runner.run(this.runner,this.engine)},buildRenderer:function(){var e=this.width,t=this.height,n=this.$refs.mainArea;this.renderer=o.Render.create({element:n,engine:this.engine,options:{width:e,height:t,showVelocity:!0,pixelRatio:"auto"}}),o.Render.lookAt(this.renderer,{min:{x:0,y:0},max:{x:e,y:t}}),o.Render.run(this.renderer)},destroyRenderer:function(){var e=this.renderer.canvas.parentNode;o.Render.stop(this.renderer),e.removeChild(this.renderer.canvas),this.renderer=null},destroyRunner:function(){o.Runner.stop(this.runner),this.runner=null},destroyEngine:function(){this.world=null,o.Engine.clear(this.engine),this.engine.events={},this.engine=null},updated:function(){},resize:function(){var e=document.querySelector(".v-toolbar__content").getBoundingClientRect().height,t=document.querySelector("main.v-content").style.paddingTop.split("px"),n=r()(t,1)[0],i=parseInt(n);this.width=window.innerWidth,this.height=window.innerHeight-e-i},getComponentByType:function(e){switch(e){case"Circle":return v;case"Rectangle":return f}},addMouseControl:function(){var e=this.engine,t=this.renderer,n=e.world,i=o.Mouse.create(t.canvas),r=o.MouseConstraint.create(e,{mouse:i,constraint:{stiffness:.2,angularStiffness:0,render:{visible:!1}}});o.World.add(n,r),t.mouse=i}}},P=(n(165),Object(c.a)(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"mainArea"},[n("div",{staticClass:"virtual"},[n("div",{staticClass:"bodies"},e._l(e.bodies,function(t){return e.engine?n(e.getComponentByType(t.type),{key:e.resizeToken+t.id,tag:"component",attrs:{internalId:t.id,world:e.engine.world,sceneBounds:{sceneWidth:e.width,sceneHeight:e.height},initialGeometryPercent:t.initialGeometryPercent,physic:t.physic}}):e._e()}),1),e._v(" "),n("div",{staticClass:"constraints"},e._l(e.constraints,function(t,i){return e.engine?n("MatterConstraint",{key:e.resizeToken+i,attrs:{world:e.engine.world,width:e.width,height:e.height,physic:t.physic,idBodyA:t.idBodyA,geometryPercentPointA:t.geometryPercentPointA,idBodyB:t.idBodyB,geometryPercentPointB:t.geometryPercentPointB}}):e._e()}),1)])])},[],!1,null,null,null));P.options.__file="Matter.vue";var x={components:{Matter:P.exports}},C=Object(c.a)(x,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"index"},[t("no-ssr",[t("Matter")],1)],1)},[],!1,null,null,null);C.options.__file="index.vue";t.default=C.exports}}]);